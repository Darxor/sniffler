{% extends 'web_ui/base.html' %}
{% load django_bootstrap5 %}

{% block title %}Statistics{% endblock %}

{% block content %}
    <div class="card mb-4">
        <div class="card-body">
            <h3 class="card-title">Total Indexed File Size</h3>
            <p>{{ total_size }}</p>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h3 class="card-title">File Statistics by Extension</h3>
            <ul>
                {% for ext, count in count_by_extension %}
                    <li>{{ ext }}: {{ count }}</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h3 class="card-title">Top 10 Largest Files</h3>
            <ul>
                {% for file in top_largest_files %}
                    <li>{{ file.path }} ({{ file.size|filesizeformat }})</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h3 class="card-title">Top 10 Largest Images (by area)</h3>
            <ul>
                {% for file in top_largest_images %}
                    <li>{{ file.path }} ({{ file.width }}x{{ file.height }})</li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h3 class="card-title">Top 10 Documents by Page Count</h3>
            <ul>
                {% for file in top_documents_by_pages %}
                    <li>{{ file.path }} ({{ file.page_count }} pages)</li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% endblock %}
